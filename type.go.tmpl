{{- define "type" -}}

{{- /* Required args */ -}}
{{- $typeMap := .TypeMap -}}
{{- /* .Type */ -}}

{{- if isMapType .Type -}}

    map[{{mapKeyType .Type}}]{{template "type" dict "Type" (mapValueType .Type) "TypeMap" $typeMap}}

{{- else if isListType .Type -}}

    []{{template "type" dict "Type" (listElemType .Type) "TypeMap" $typeMap}}

{{- else if isStructType .Type -}}

    *{{.Type}}

{{- else -}}

    {{ get $typeMap .Type }}

{{- end -}}
{{- end -}}